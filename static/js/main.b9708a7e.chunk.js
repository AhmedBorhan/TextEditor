(this["webpackJsonptext-editor"]=this["webpackJsonptext-editor"]||[]).push([[0],{195:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(49),o=n.n(c),s=(n(97),n(98),n(16)),u=n(21),i=n(4),l=n.n(i),p=n(11),h=n(39),f=n(12),d=function(){var e=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://my-json-server.typicode.com/MrError9/JsonDB/rules");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),alert("There was an error fetching rules \n Error: ".concat(e.t0)),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(p.a)(l.a.mark((function e(t){var n,r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.text,r=t.replace,e.prev=1,e.next=4,fetch("https://my-json-server.typicode.com/MrError9/JsonDB/rules",{body:JSON.stringify({text:n,replace:r,checked:!0}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 4:return a=e.sent,e.next=7,a.json();case 7:return c=e.sent,console.log("THIS IS ADD RESULT",c),e.abrupt("return",c);case 12:return e.prev=12,e.t0=e.catch(1),console.log("THERE WAS AN ERROR",e.t0),alert("There was an error ADDING a rule \n Error: ".concat(e.t0)),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(l.a.mark((function e(t){var n,r,a,c,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.text,a=t.replace,c=t.checked,e.prev=1,e.next=4,fetch("https://my-json-server.typicode.com/MrError9/JsonDB/rules/".concat(n),{body:JSON.stringify({text:r,replace:a,checked:c}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT"});case 4:return o=e.sent,e.next=7,o.json();case 7:return s=e.sent,alert("Rule updated succesfully "),e.abrupt("return",s);case 12:return e.prev=12,e.t0=e.catch(1),alert("There was an error UPDATEING a rule \n Error: ".concat(e.t0)),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://my-json-server.typicode.com/MrError9/JsonDB/rules/".concat(t),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE"});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,alert("Rule deleted succesfully "),e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(0),alert("There was an error DELETEING a rule \n Error: ".concat(e.t0)),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),g=n(88),E=n.n(g),b=n(89),j=n.n(b),k=n(90),w=n.n(k),y=n(91),O=n.n(y),C=function(e,t,n){for(var r,a,c=t.getText();null!==(r=e.exec(c));)n(a=r.index,a+r[0].length)},S=function(e){return a.a.createElement("span",{className:"search-and-replace-highlight"},e.children)},N=function(e){var t=new RegExp(e,"g");return new f.CompositeDecorator([{strategy:function(n,r){""!==e&&C(t,n,r)},component:S}])};var T=function(){var e=a.a.useState(f.EditorState.createEmpty()),t=Object(h.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)({text:"",replace:""}),i=Object(h.a)(o,2),g=i[0],b=i[1],k=Object(r.useState)([]),y=Object(h.a)(k,2),S=y[0],T=y[1],D=a.a.useRef(null),R=function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:t=e.sent,T(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){D.current.focus(),R()}),[]);var A=function(e){var t=e.target.value;c(f.EditorState.set(n,{decorator:N(t)}))},J=function(e,t){var r=e.target,a=r.value,o=r.name,u=S;"search"===o?u[t].text=a:u[t].replace=a,"search"===o&&c(f.EditorState.set(n,{decorator:N(a)})),u[t].isChanged=!0,T(Object(s.a)(u))},B=function(){var e=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=S.filter((function(e){return e.text===g.text&&e.replace===g.replace})),!(""!==g.replace&&""!==g.text&&t.length<1)){e.next=6;break}return e.next=4,m(g);case 4:null!==(n=e.sent)&&(T([].concat(Object(s.a)(S),[n])),b({text:"",replace:""}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(p.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t.text||""===t.replace){e.next=7;break}return e.next=3,v(t);case 3:r=e.sent,(a=S)[n].isChanged=!1,null!==r&&T(Object(s.a)(a));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(p.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t.id);case 2:r=e.sent,(a=S).splice(n,1),r&&T(Object(s.a)(a));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(e){var t=n.getCurrentContent();""!==g.text&&""!==g.replace&&(e=[].concat(Object(s.a)(e),[Object(u.a)(Object(u.a)({},g),{},{checked:!0})]));for(var r=function(n){var r=e[n],a=r.text,c=r.replace;if(!r.checked)return"continue";var o=new RegExp(a,"g"),s=[];t.getBlockMap().forEach((function(e){return C(o,e,(function(t,n){var r=e.getKey(),a=f.SelectionState.createEmpty(r).merge({anchorOffset:t,focusOffset:n});s.push(a)}))})),s.forEach((function(e){t=f.Modifier.replaceText(t,e,c)}))},a=0;a<e.length;a++)r(a);c(f.EditorState.push(n,t))};return a.a.createElement("div",{className:"all-container"},a.a.createElement("section",{className:"editor-section"},a.a.createElement(f.Editor,{ref:D,editorState:n,onChange:c})),a.a.createElement("section",{className:"rules-section"},a.a.createElement("div",{className:"search-and-replace"},a.a.createElement("small",{align:"right"},a.a.createElement("input",{name:"isGoing",type:"checkbox",onChange:function(e){for(var t=S,n=e.target.checked,r=0;r<t.length;r++)t[r].checked!==n&&(t[r].checked=n,t[r].isChanged=!0);T(Object(s.a)(S))}}),"\u06af\u0634\u062a"),a.a.createElement("button",{className:"replace-btn",onClick:function(){return G(S)}},"\u067e\u06d5\u0633\u06d5\u0646\u062f\u06a9\u0631\u062f\u0646")),a.a.createElement("div",{className:"search-and-replace"},a.a.createElement("div",{className:"actions"},a.a.createElement("img",{width:"24px",height:"24px",src:w.a,onClick:function(){return G([])},alt:"replace"}),a.a.createElement("img",{width:"24px",height:"24px",onClick:B,className:g.replace&&g.text?"":"disabled",src:O.a,alt:"add"})),a.a.createElement("input",{value:g.replace,onChange:function(e){b(Object(u.a)(Object(u.a)({},g),{},{replace:e.target.value}))},placeholder:"\u062c\u06ce\u06af\u0631\u06d5\u0648\u06d5"}),a.a.createElement("input",{value:g.text,onFocus:A,onChange:function(e){e.preventDefault();var t=e.target.value;b(Object(u.a)(Object(u.a)({},g),{},{text:t})),c(f.EditorState.set(n,{decorator:N(t)}))},placeholder:"\u0648\u0634\u06d5"})),a.a.createElement("hr",null),S.map((function(e,t){return a.a.createElement("div",{className:"search-and-replace",key:t},a.a.createElement("div",{className:"actions"},a.a.createElement("img",{onClick:function(){I(e,t)},width:"16px",height:"16px",src:E.a,alt:"delete"}),a.a.createElement("img",{onClick:function(){return M(e,t)},className:!0===e.isChanged?"":"disabled",width:"16px",height:"16px",src:j.a,alt:"update"}),a.a.createElement("input",{onChange:function(e){!function(e,t){var n=e.target.checked,r=S;r[t].checked=n,r[t].isChanged=!0,T(Object(s.a)(r))}(e,t)},name:"isGoing",type:"checkbox",checked:e.checked})),a.a.createElement("input",{name:"replace",value:e.replace,onChange:function(e){return J(e,t)},placeholder:"\u062c\u06ce\u06af\u0631\u06d5\u0648\u06d5"}),a.a.createElement("input",{name:"search",value:e.text||"",onFocus:A,onChange:function(e){return J(e,t)},placeholder:"\u0648\u0634\u06d5"}))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,n){e.exports=n.p+"static/media/delete.28438a18.svg"},89:function(e,t,n){e.exports=n.p+"static/media/floppy-disk.9e5413c0.svg"},90:function(e,t,n){e.exports=n.p+"static/media/find.fa7651f7.svg"},91:function(e,t,n){e.exports=n.p+"static/media/plus.44133772.svg"},92:function(e,t,n){e.exports=n(195)},97:function(e,t,n){}},[[92,1,2]]]);
//# sourceMappingURL=main.b9708a7e.chunk.js.map