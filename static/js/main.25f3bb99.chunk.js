(this["webpackJsonptext-editor"]=this["webpackJsonptext-editor"]||[]).push([[0],{195:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(49),o=n.n(c),s=(n(97),n(98),n(16)),u=n(21),i=n(4),l=n.n(i),p=n(11),h=n(39),f=n(12),d=function(){var e=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:8080/rules");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),alert("There was an error fetching rules \n Error: ".concat(e.t0)),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.text,a=t.replace,e.prev=1,e.next=4,fetch("http://localhost:8080/rules",{body:JSON.stringify({text:n,replace:a,checked:!0}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 4:return r=e.sent,e.next=7,r.json();case 7:return c=e.sent,console.log("THIS IS ADD RESULT",c),e.abrupt("return",c);case 12:return e.prev=12,e.t0=e.catch(1),console.log("THERE WAS AN ERROR",e.t0),alert("There was an error ADDING a rule \n Error: ".concat(e.t0)),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a,r,c,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.text,r=t.replace,c=t.checked,e.prev=1,e.next=4,fetch("http://localhost:8080/rules/".concat(n),{body:JSON.stringify({text:a,replace:r,checked:c}),headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT"});case 4:return o=e.sent,e.next=7,o.json();case 7:return s=e.sent,alert("Rule updated succesfully "),e.abrupt("return",s);case 12:return e.prev=12,e.t0=e.catch(1),alert("There was an error UPDATEING a rule \n Error: ".concat(e.t0)),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:8080/rules/".concat(t),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"DELETE"});case 3:return n=e.sent,e.next=6,n.json();case 6:return a=e.sent,alert("Rule deleted succesfully "),e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(0),alert("There was an error DELETEING a rule \n Error: ".concat(e.t0)),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),g=n(88),E=n.n(g),b=n(89),j=n.n(b),k=n(90),w=n.n(k),O=n(91),y=n.n(O),C=function(e,t,n){for(var a,r,c=t.getText();null!==(a=e.exec(c));)n(r=a.index,r+a[0].length)},S=function(e){return r.a.createElement("span",{className:"search-and-replace-highlight"},e.children)},N=function(e){var t=new RegExp(e,"g");return new f.CompositeDecorator([{strategy:function(n,a){""!==e&&C(t,n,a)},component:S}])};var T=function(){var e=r.a.useState(f.EditorState.createEmpty()),t=Object(h.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)({text:"",replace:""}),i=Object(h.a)(o,2),g=i[0],b=i[1],k=Object(a.useState)([]),O=Object(h.a)(k,2),S=O[0],T=O[1],R=r.a.useRef(null),D=function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:t=e.sent,T(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){R.current.focus(),D()}),[]);var A=function(e){var t=e.target.value;c(f.EditorState.set(n,{decorator:N(t)}))},I=function(e,t){var a=e.target,r=a.value,o=a.name,u=S;"search"===o?u[t].text=r:u[t].replace=r,"search"===o&&c(f.EditorState.set(n,{decorator:N(r)})),u[t].isChanged=!0,T(Object(s.a)(u))},G=function(){var e=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=S.filter((function(e){return e.text===g.text&&e.replace===g.replace})),!(""!==g.replace&&""!==g.text&&t.length<1)){e.next=6;break}return e.next=4,m(g);case 4:null!==(n=e.sent)&&(T([].concat(Object(s.a)(S),[n])),b({text:"",replace:""}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(p.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t.text||""===t.replace){e.next=7;break}return e.next=3,v(t);case 3:a=e.sent,(r=S)[n].isChanged=!1,null!==a&&T(Object(s.a)(r));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(p.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t.id);case 2:a=e.sent,(r=S).splice(n,1),a&&T(Object(s.a)(r));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(e){var t=n.getCurrentContent();""!==g.text&&""!==g.replace&&(e=[].concat(Object(s.a)(e),[Object(u.a)(Object(u.a)({},g),{},{checked:!0})]));for(var a=function(n){var a=e[n],r=a.text,c=a.replace;if(!a.checked)return"continue";var o=new RegExp(r,"g"),s=[];t.getBlockMap().forEach((function(e){return C(o,e,(function(t,n){var a=e.getKey(),r=f.SelectionState.createEmpty(a).merge({anchorOffset:t,focusOffset:n});s.push(r)}))})),s.forEach((function(e){t=f.Modifier.replaceText(t,e,c)}))},r=0;r<e.length;r++)a(r);c(f.EditorState.push(n,t))};return r.a.createElement("div",{className:"all-container"},r.a.createElement("section",{className:"editor-section"},r.a.createElement(f.Editor,{ref:R,editorState:n,onChange:c})),r.a.createElement("section",{className:"rules-section"},r.a.createElement("div",{className:"search-and-replace"},r.a.createElement("small",{align:"right"},r.a.createElement("input",{name:"isGoing",type:"checkbox",onChange:function(e){for(var t=S,n=e.target.checked,a=0;a<t.length;a++)t[a].checked!==n&&(t[a].checked=n,t[a].isChanged=!0);T(Object(s.a)(S))}}),"\u06af\u0634\u062a"),r.a.createElement("button",{className:"replace-btn",onClick:function(){return L(S)}},"\u067e\u06d5\u0633\u06d5\u0646\u062f\u06a9\u0631\u062f\u0646")),r.a.createElement("div",{className:"search-and-replace"},r.a.createElement("div",{className:"actions"},r.a.createElement("img",{width:"24px",height:"24px",src:w.a,onClick:function(){return L([])},alt:"replace"}),r.a.createElement("img",{width:"24px",height:"24px",onClick:G,className:g.replace&&g.text?"":"disabled",src:y.a,alt:"add"})),r.a.createElement("input",{value:g.replace,onChange:function(e){b(Object(u.a)(Object(u.a)({},g),{},{replace:e.target.value}))},placeholder:"\u062c\u06ce\u06af\u0631\u06d5\u0648\u06d5"}),r.a.createElement("input",{value:g.text,onFocus:A,onChange:function(e){e.preventDefault();var t=e.target.value;b(Object(u.a)(Object(u.a)({},g),{},{text:t})),c(f.EditorState.set(n,{decorator:N(t)}))},placeholder:"\u0648\u0634\u06d5"})),r.a.createElement("hr",null),S.map((function(e,t){return r.a.createElement("div",{className:"search-and-replace",key:t},r.a.createElement("div",{className:"actions"},r.a.createElement("img",{onClick:function(){B(e,t)},width:"16px",height:"16px",src:E.a,alt:"delete"}),r.a.createElement("img",{onClick:function(){return J(e,t)},className:!0===e.isChanged?"":"disabled",width:"16px",height:"16px",src:j.a,alt:"update"}),r.a.createElement("input",{onChange:function(e){!function(e,t){var n=e.target.checked,a=S;a[t].checked=n,a[t].isChanged=!0,T(Object(s.a)(a))}(e,t)},name:"isGoing",type:"checkbox",checked:e.checked})),r.a.createElement("input",{name:"replace",value:e.replace,onChange:function(e){return I(e,t)},placeholder:"\u062c\u06ce\u06af\u0631\u06d5\u0648\u06d5"}),r.a.createElement("input",{name:"search",value:e.text||"",onFocus:A,onChange:function(e){return I(e,t)},placeholder:"\u0648\u0634\u06d5"}))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,n){e.exports=n.p+"static/media/delete.28438a18.svg"},89:function(e,t,n){e.exports=n.p+"static/media/floppy-disk.9e5413c0.svg"},90:function(e,t,n){e.exports=n.p+"static/media/find.fa7651f7.svg"},91:function(e,t,n){e.exports=n.p+"static/media/plus.44133772.svg"},92:function(e,t,n){e.exports=n(195)},97:function(e,t,n){}},[[92,1,2]]]);
//# sourceMappingURL=main.25f3bb99.chunk.js.map